<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments/header :: header-css"></head>
<body class="loginBGWhite">
	<div class="img-responsive">
		<div class="topBar col-md-12" style="background-image: none">
			<div th:replace="fragments/header :: header"></div>
		</div>
		<div class="container">
	      <div class="row loginWapper d-flex align-items-center" style="height: 100%">
	        <div class="col-md-7">
	        </div>
	        <div class="col-md-5">
	          <div class="signupBox loginInput">
	            <div class="row signupTitle">
	              <h3>用户登录</h3>
	            </div>
				<div th:if="${param.error}">
					<div class="alert alert-danger">
						登录失败：
						<div th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></div>
					</div>
				</div>
				<div th:if="${param.logout}">
					<div class="alert alert-info">登出成功</div>
				</div>
				<form th:action="@{/authentication/form}" method="post">
					<div class="form-group row">
					  <div class="col-sm-12">
						<input type="text" class="form-control" placeholder="请输入用户名" th:name="username" th:id="username"></input>
						</div>
					</div>
					<div class="form-group row">
					  <div class="col-sm-12">
						<input type="password" class="form-control" placeholder="请输入密码" th:name="password" th:id="password"></input>
						</div>
					</div>
					<div class="form-group row">
					  <div class="col-7">
						<input type="text" class="form-control" placeholder="请输入验证码" th:name="imageCode" id="image_code"></input>
					  </div>
					  <div class="col-5 pl-0 d-flex align-items-center">
						<div class="validate-code pull-left" style="background-color: #fff;">
						  <img th:id="imageVerificationCode" th:src="@{/code/image}"></img>
						</div>
						<div class="pull-left">
						  <i id="validate-code-refresh" class="fa fa-refresh fa-lg ml-1" aria-hidden="true" th:onclick="'javascript:refreshImageCode();'"></i>
						</div>
					  </div>
					</div>
					<div class="form-group row fpw">
					  <div class="col-sm-offset-8 col-sm-8">
						<div class="checkbox">
						  <label>
							<input type="checkbox" th:name="remember-me"></input>记住密码</label>
						</div>
					  </div>
					  <div class="col-sm-offset-4 col-sm-4">
						<a href="#">忘记密码</a>
					  </div>
					</div>
					<div class="form-group row signupTitle row">
					  <div class="col-sm-offset-12 col-sm-12">
						<button type="submit" class="btn btn-default login-loginBTN">
						  登录
						</button>
					  </div>
					  <p class="text-center mt-2">
						<span>还没有账号?</span> 
						<a class="login-sign-jump" th:href="@{/user/register}">点击注册</a>
					  </p>
					</div>
				</form>
	          </div>
	        </div>
	      </div>
	    </div>
	</div>
	<div th:replace="fragments/footer :: footer"></div>
	<script type="text/javascript" th:inline="javascript">
	/*<![CDATA[*/
		function refreshImageCode() {
			$("#imageVerificationCode").attr("src", "/code/image");
		}
	/*]]>*/
	</script>
</body>
</html>